(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{64:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),o=n(10),a=n.n(o),r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),o(e),a(e)}))},s=n(15),u=n(46),l=n(12),d="TOGGLE_IS_DARK_MODE",j="TOGGLE_IS_CELSIUS",v="SELECT_LOCATION_KEY",h="ADD_TO_FAVORITES",O="REMOVE_FROM_FAVORITES",b={isDarkMode:!1,isCelsius:!0,currentLocation:null,currentCityName:"",favoritesCities:{},clientLocation:null},f=(n(64),n(23)),m=n(3),p=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f.a,{to:"/Bar-Horing-Amir-25-05-2021",children:"Home"})," |",Object(m.jsx)(f.a,{to:"".concat("/Bar-Horing-Amir-25-05-2021","/favorites"),children:"Favorites"})]})},x=n.p+"static/media/sun-logo.0d585ec9.svg",y=function(){return Object(m.jsx)("img",{style:{height:"100px"},src:x,className:"App-logo",alt:"logo"})},g=function(e){var t=e.isDarkMode,n=e.isCelsius,c=e.handleToggleIsDarkMode,i=e.handleToggleIsCelsius;return Object(m.jsxs)("header",{className:"logo-header",children:[Object(m.jsx)("div",{className:"title",children:"Herolo Weather Task"}),Object(m.jsx)(y,{}),Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{onClick:c,children:t?"Dark":"Light"}),Object(m.jsx)("div",{onClick:i,children:n?"C":"F"})]})]})},C=Object(s.b)((function(e){return{isDarkMode:e.isDarkMode,isCelsius:e.isCelsius}}),(function(e){return{handleToggleIsDarkMode:function(){return e({type:d})},handleToggleIsCelsius:function(){return e({type:j})}}}))(g),L=n(22),N=n(109),k=n(110),F=function(e){var t=e.setQuery,n=e.handleSelectLocation,c=e.autoCompleteOptions;return Object(m.jsx)("div",{className:"search",children:Object(m.jsx)(k.a,{onKeyUp:function(e){t(e.target.value)},id:"combo-box-demo",options:c,getOptionLabel:function(e){return"".concat(e.LocalizedName,", ").concat(e.Country.LocalizedName)},style:{width:300},onChange:function(e,t){n(t)},renderInput:function(e){return Object(m.jsx)(N.a,Object(l.a)(Object(l.a)({},e),{},{label:"Combo box",variant:"outlined"}))}})})},w="https://dataservice.accuweather.com/currentconditions/v1",S="cNJ6YSXkDrtUrElsVG1kMQMvLrFK4xAg",D=function(e){e.currentLocation;var t=e.handleSelectLocation,n=Object(c.useState)(""),i=Object(L.a)(n,2),o=i[0],a=i[1],r=Object(c.useState)([]),s=Object(L.a)(r,2),u=s[0],l=s[1],d="";return Object(c.useEffect)((function(){var e=setInterval((function(){var e="".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(S,"&q=").concat(o);o!==d&&o&&fetch(e).then((function(e){return e.json()})).then((function(e){l(e)})),d=o}),1e3);return function(){return clearInterval(e)}}),[o]),Object(m.jsx)("div",{className:"search",children:Object(m.jsx)(F,{setQuery:a,handleSelectLocation:t,autoCompleteOptions:u})})},E=Object(s.b)((function(e){return{currentLocation:e.currentLocation}}),(function(e){return{handleSelectLocation:function(t){return e({type:v,payload:{currentLocation:t}})}}}))(D),T=function(e){return(1.8*e+32).toFixed(2)},_=function(e){var t,n,c=e.isCelsius,i=e.currentLocation,o=e.conditionsNow,a=e.handleToggleFavorite,r=e.isFavorite,s=c?"C":"F",u=null===o||void 0===o||null===(t=o.Temperature)||void 0===t||null===(n=t.Metric)||void 0===n?void 0:n.Value;return Object(m.jsxs)("div",{className:"city-forecast",children:[Object(m.jsxs)("div",{className:"weather-now",children:[Object(m.jsxs)("div",{className:"city-weather",children:[Object(m.jsx)("span",{children:null===i||void 0===i?void 0:i.LocalizedName}),Object(m.jsxs)("div",{children:[c?u:T(u),"\xb0 ",s]})]}),void 0!==r&&Object(m.jsx)("div",{onClick:function(){a(i)},children:r?"\u2764\ufe0f":"\u2661"})]}),Object(m.jsx)("h1",{className:"today-sky",children:null===o||void 0===o?void 0:o.WeatherText})]})},M=function(e){var t=e.isCelsius,n=e.temperature,c=e.day,i=t?"C":"F",o=null===n||void 0===n?void 0:n.Minimum.Value,a=null===n||void 0===n?void 0:n.Maximum.Value;return Object(m.jsxs)("div",{className:"day-forecast",children:[Object(m.jsx)("h4",{children:c}),Object(m.jsxs)("div",{className:"temp",children:["Minimum: ",t?o:T(o),"\xb0 ",i]}),Object(m.jsxs)("div",{className:"temp",children:["Maximum: ",t?a:T(a),"\xb0 ",i]})]})},A=function(e){var t=e.dailyForecasts,n=e.isCelsius;return Object(m.jsx)("div",{className:"week-forecast",children:t&&Object.values(t).map((function(e){var t=e.Temperature,c=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(new Date(e.Date)),i=e.EpochDate;return Object(m.jsx)(M,{isCelsius:n,day:c,temperature:t},i)}))})},I=function(e){var t=e.currentLocation,n=e.handleAddToFavorites,i=e.handleRemoveFromFavorites,o=e.isFavorite,a=e.isCelsius,r=Object(c.useState)([]),s=Object(L.a)(r,2),u=s[0],l=s[1],d=Object(c.useState)({}),j=Object(L.a)(d,2),v=j[0],h=j[1];return Object(c.useEffect)((function(){if(t){var e="".concat("https://dataservice.accuweather.com/forecasts/v1/daily/5day","/").concat(t.Key,"?apikey=").concat(S,"&metric=true");fetch(e).then((function(e){return e.json()})).then((function(e){l(e.DailyForecasts)})).catch((function(e){return console.log(e)}));var n="".concat(w,"/").concat(t.Key,"?apikey=").concat(S,"&metric=true");fetch(n).then((function(e){return e.json()})).then((function(e){h(e[0])})).catch((function(e){console.log(e)}))}}),[t]),Object(m.jsx)("div",{className:"weather-info-container",children:Object(m.jsxs)("div",{className:"weather-info",children:[Object(m.jsx)(_,{handleToggleFavorite:function(){o?i(t.Key):n(t)},isFavorite:o,handleAddToFavorites:n,conditionsNow:v,isCelsius:a,currentLocation:t}),Object(m.jsx)(A,{dailyForecasts:u,isCelsius:a})]})})},K=Object(s.b)((function(e){var t=e.currentLocation,n=e.isCelsius;return{currentLocation:t,isFavorite:(null===t||void 0===t?void 0:t.Key)in e.favoritesCities,isCelsius:n}}),(function(e,t){return{handleRemoveFromFavorites:function(t){return e({type:O,payload:{locationKey:t}})},handleAddToFavorites:function(t){return e({type:h,payload:{location:t}})}}}))(I),R=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(E,{}),Object(m.jsx)(K,{})]})},V=function(e){var t=e.favoritesCities,n=e.isCelsius,i=e.handleSelectLocation,o=Object(c.useState)(t),a=Object(L.a)(o,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var e=Object.keys(t),n=e.map((function(e){var t="".concat(w,"/").concat(e,"?apikey=").concat(S,"&metric=true");return fetch(t).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}));Promise.all(n).then((function(n){s(function(e,t,n){var c=Object(l.a)({},e);return n.forEach((function(e,n){c[e].conditionsNow=t[n][0]})),c}(t,n,e))}))}),[]),Object(m.jsxs)("div",{className:"favorites",children:[Object(m.jsx)("h1",{children:"Your favorites cities"}),Object(m.jsx)("div",{children:Object.values(r).map((function(e){return Object(m.jsx)("div",{onClick:function(){i(e),Object(f.c)("/Bar-Horing-Amir-25-05-2021")},children:Object(m.jsx)(_,{conditionsNow:e.conditionsNow,isCelsius:n,currentLocation:e},e.Key)})}))})]})},B=Object(s.b)((function(e){return{favoritesCities:e.favoritesCities,isCelsius:e.isCelsius}}),(function(e){return{handleSelectLocation:function(t){return e({type:v,payload:{currentLocation:t}})}}}))(V),H=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(B,{})})};var G=Object(s.b)((function(e){return{isDarkMode:e.isDarkMode}}),(function(e){return{handleSelectLocation:function(t){return e({type:v,payload:{currentLocation:t}})}}}))((function(e){var t=e.isDarkMode,n=e.handleSelectLocation;function i(e){var t=e.coords.latitude,c=e.coords.longitude,i="".concat("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search","?apikey=").concat(S,"&q=").concat(t,",").concat(c);fetch(i).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(i,(function(e){return console.log(e)})):console.log("Geolocation is not supported by your browser")}),[]),Object(m.jsxs)("div",{className:t?"dark-mode":"",children:[Object(m.jsx)(C,{}),Object(m.jsx)("div",{children:"/Bar-Horing-Amir-25-05-2021"}),Object(m.jsxs)(f.b,{children:[Object(m.jsx)(R,{path:"/Bar-Horing-Amir-25-05-2021"}),Object(m.jsx)(H,{path:"".concat("/Bar-Horing-Amir-25-05-2021","/favorites")})]})]})})),U=(n(70),Object(u.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var n=e.isDarkMode;return Object(l.a)(Object(l.a)({},e),{},{isDarkMode:!n});case j:var c=e.isCelsius;return Object(l.a)(Object(l.a)({},e),{},{isCelsius:!c});case v:var i=t.payload.currentLocation;return Object(l.a)(Object(l.a)({},e),{},{currentLocation:i});case h:var o=t.payload.location,a=Object(l.a)({},e),r=Object(l.a)({},a.favoritesCities),s=o.Key;return r[s]=o,Object(l.a)(Object(l.a)({},a),{},{favoritesCities:r});case O:var u=t.payload.locationKey,f=Object(l.a)({},e),m=Object(l.a)({},e.favoritesCities);return delete m[u],Object(l.a)(Object(l.a)({},f),{},{favoritesCities:m});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(s.a,{store:U,children:Object(m.jsx)(G,{})})}),document.getElementById("root")),r()}},[[71,1,2]]]);
//# sourceMappingURL=main.83e5a605.chunk.js.map